mixin raincard(stn)
    script.
        // $(document).ready(function () {
        //     checkAlarmStatus(stn.id)
        // })
        var chackAlarm = setInterval(function () {
            checkRainStart(`#{stn.id}`);
            checkRainAlarm(`#{stn.id}`);
        }, 60000);
    div.col-lg-3.text-right
        // - dest = 'location.href=' + '"' + '/detail/' + stn.id + '-' + 'NAN' + '"' +  ';'
        div.card.card-chart(onclick= 'loadDetailCard(' + '"' + stn.id + '"' + ',' + '"' + stn.position + '"' + ')' style='cursor: pointer;')
            div.card-header.rain
                //- h3.card-category  ایستگاه بارانسنجی # rainStn.name}
                h3.card-category  #{stn.position}
                - i = stn.id
                h4.card-title(id= i )
                    i.tim-icons.icon-bell-55.text-primary
                    i.card-label(id='rain_status') &nbsp&nbsp&nbsp وضعیت بارندگی
                    i.status(id='rain_status_result')
                    br
                    i.tim-icons.icon-bell-55.text-primary
                    i.card-label(id='rain_alarm') &nbsp&nbsp&nbsp هشدارها
                    i.status(id='rain_alarm1')
                    i.status(id='rain_alarm8')
                    br
                    i.tim-icons.icon-bell-55.text-primary
                    i.card-label(id='rain_total')
                    i.unit(id='rain_total_unit')
                    i.value(id='rain_total_value')
                    br
                    i.tim-icons.icon-bell-55.text-primary
                    i.card-label(id='rain_24')
                    i.unit(id='rain_24_unit')
                    i.value(id='rain_24_value')
                    br
                    i.tim-icons.icon-bell-55.text-primary
                    i.card-label(id='rain_12')
                    i.unit(id='rain_12_unit')
                    i.value(id='rain_12_value')
                    br
                    //- i.tim-icons.icon-bell-55.text-primary
                    i(id='date_of_last_recieved_data_label')
                    i.value(id='date_of_last_recieved_data_value')
            div.card-body
                div.chart-area
                    //- canvas(id='chartLinePurple')
                    - chart_id = 'CountryChart' + stn.id
                    canvas(id= chart_id)
mixin levelcard(stn)
    div.col-lg-3.text-right
        div.card.card-chart(onclick= 'loadDetailCard(' + '"' + stn.id + '"' + ',' + '"' + stn.position + '"' + ')' style='cursor: pointer;')
            div.card-header.level
                //- h3.card-category  ایستگاه بارانسنجی # rainStn.name}
                h3.card-category  #{stn.position}
                - i = stn.id
                h4.card-title(id= i )
                    i.tim-icons.icon-bell-55.text-primary
                    i.card-label(id='level_status') &nbsp&nbsp&nbsp وضعیت رودخانه 
                    br
                    i.tim-icons.icon-bell-55.text-primary
                    i.card-label(id='level_alarm') &nbsp&nbsp&nbsp آلارم ها 
                    br
                    i.tim-icons.icon-bell-55.text-primary
                    i.card-label(id='level_total')
                    i.unit(id='level_total_unit')
                    i.value(id='level_total_value')                      
                    br
                    //- i.tim-icons.icon-bell-55.text-primary
                    i(id='date_of_last_recieved_data_label')
                    i.value(id='date_of_last_recieved_data_value')
            div.card-body
                div.chart-area
                    //- canvas(id='chartLinePurple')
                    - chart_id = 'chartLinePurple' + stn.id
                    canvas(id= chart_id)            
mixin climacard(stn , sensor)
    div.col-md-3.text-right
        div.card.card-chart(onclick= 'loadDetailCard(' + '"' + stn.id + '"' + ',' + '"' + stn.position + '"' + ',' + '"' + sensor[0] + '"' + ')' style='cursor: pointer;')
            if (sensor[0] === 'RAINC')
                div.card-header.clima
                    //- h3.card-category  ایستگاه بارانسنجی # rainStn.name}
                    h3.card-category  #{sensor[1]}
                    - i = stn.id + sensor[0]
                    h4.card-title(id= i )
                        i.tim-icons.icon-bell-55.text-primary
                        i.card-label(id='rain_status') &nbsp&nbsp&nbsp وضعیت بارندگی 
                        br
                        i.tim-icons.icon-bell-55.text-primary
                        i.card-label(id='rain_alarm') &nbsp&nbsp&nbsp آلارم ها 
                        br
                        i.tim-icons.icon-bell-55.text-primary
                        i.card-label(id='rain_total')
                        i.unit(id='rain_total_unit')
                        i.value(id='rain_total_value')                          
                        br
                        i.tim-icons.icon-bell-55.text-primary
                        i.card-label(id='rain_24')
                        i.unit(id='rain_24_unit')
                        i.value(id='rain_24_value')
                        br
                        i.tim-icons.icon-bell-55.text-primary
                        i.card-label(id='rain_12')
                        i.unit(id='rain_12_unit')
                        i.value(id='rain_12_value')
                        br
                        //- i.tim-icons.icon-bell-55.text-primary
                        i(id='date_of_last_recieved_data_label')
                        i.value(id='date_of_last_recieved_data_value')
                div.card-body
                    div.chart-area
                        //- canvas(id='chartLinePurple')
                        - chart_id = 'CountryChart' + stn.id + sensor[0]
                        canvas(id= chart_id)        
            else
                div.card-header.clima
                    h3.card-category  #{sensor[1]}
                    - i = stn.id + sensor[0]
                    h4.card-title(id= i )
                        i.tim-icons.icon-bell-55.text-primary
                        - i = sensor[0] + '_alarm'
                        i.card-label(id= i) &nbsp&nbsp&nbsp آلارم ها 
                        br
                        i.tim-icons.icon-bell-55.text-primary
                        - i = sensor[0] + '_last'
                        i.card-label(id=i)  &nbsp&nbsp&nbsp آخرین مقدار
                        - i = sensor[0] + '_last_unit'
                        i.unit(id=i)
                        - i = sensor[0] + '_last_value'
                        i.value(id=i)   
                        br
                        i.tim-icons.icon-bell-55.text-primary
                        - i = sensor[0] + '_avg'
                        i.card-label(id=i)
                        - i = sensor[0] + '_avg_unit'
                        i.unit(id=i)
                        - i = sensor[0] + '_avg_value'
                        i.value(id=i)   
                        br
                        i.tim-icons.icon-bell-55.text-primary
                        - i = sensor[0] + '_max'
                        i.card-label(id=i)
                        - i = sensor[0] + '_max_unit'
                        i.unit(id=i)
                        - i = sensor[0] + '_max_value'
                        i.value(id=i)  
                        br
                        i.tim-icons.icon-bell-55.text-primary
                        - i = sensor[0] + '_min'
                        i.card-label(id=i)
                        - i = sensor[0] + '_min_unit'
                        i.unit(id=i)  
                        - i = sensor[0] + '_min_value'
                        i.value(id=i)
                        br
                        //- i.tim-icons.icon-bell-55.text-primary
                        i(id='date_of_last_recieved_data_label')
                        i.value(id='date_of_last_recieved_data_value')
                div.card-body
                    div.chart-area
                        //- canvas(id='chartLinePurple')
                        - chart_id = 'chartLinePurple' + stn.id + sensor[0]
                        canvas(id= chart_id)        