
div.content
    style.
        .marker {
            background-image: url('/assets/img/mapbox-icon.png');
            background-size: cover;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
        }
        .mapboxgl-popup {
        max-width: 400px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
        }
    div.row(id='map-wrap')
        //div.col-md-12
        //    div.classcard.card-plain
        //        div.card-body
        div(id='map-wrapt')
            div(id='mapid')
                script.
                    let lineColor = '#2732ff';
                    let lineWidth = 2;
                    let fillColor = '#77b4ff';
                    let fillOpacity = 0.3;
                    var w = window.innerWidth;
                    var h = window.innerHeight;
                    w = 0.82*(w);
                    h = 0.90*(h);
                    $('#map-wrap').css('width',w).css('height',h);
                    $('#mapid').css('width',w).css('height',h);
                    console.log('w=== ' + w.toString());
                    console.log('h=== ' + h.toString());

                    mapboxgl.accessToken = 'pk.eyJ1IjoicmV6YXNoODEiLCJhIjoiY2thOWZ1enBhMG1naTM2cXdnaHplYjVlaiJ9.qyXFnvzifd20ocz6eGP8Cg';
                    var mymap = new mapboxgl.Map({
                        container: 'mapid',
                        zoom: 5,
                        center: [53.8330078,32.1942087],
                        style: 'mapbox://styles/mapbox/satellite-v9'
                    });

                    // var mymap = L.map('mapid').setView([35.5590434 , 54.541011],5);
                    // //L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/satellite-v9/static/54.15,36.47,6/1120x600?access_token=pk.eyJ1IjoicmV6YXNoODEiLCJhIjoiY2thOWZ1enBhMG1naTM2cXdnaHplYjVlaiJ9.qyXFnvzifd20ocz6eGP8Cg', {
                    // L.tileLayer('https://https://api.mapbox.com/styles/v1/mapbox/satellite-v9/title=true&access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NDg1bDA1cjYzM280NHJ5NzlvNDMifQ.d6e-nNyBDtmQCVwVNivz7A#4.96/32.49/56.3', {
                    //     minzoom: 0,
                    //     maxZoom: 18,
                    //     // attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                    //     // '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                    //     // 'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
                    //     //id: 'mapbox/streets-v11',
                    //     id: 'mapbox/satellite-v9',
                    //     z: 5.11,
                    //     x: 31.69,
                    //     y: 55.86,
                    //     tileSize: L.point(w, h)
                    //     // zoomOffset: -1
                    //     }).addTo(mymap);
                    //mymap.dragging.disable();
                    mymap.on('load', function () {
                        mymap.addSource('ostan-semnan-polygon', {
                            'type': 'geojson',
                            'data': {
                                'type': 'Feature',
                                'geometry': {
                                    'type': 'Polygon',
                                    'coordinates': [
                                        [
                                            [54.1556386, 36.4787238],
                                            [54.2820445, 36.4875572],
                                            [54.3754749, 36.5096362],
                                            [54.5183686, 36.4875572],
                                            [54.6392786, 36.5934789],
                                            [54.7052295, 36.6287539],
                                            [54.7821722, 36.5934789],
                                            [54.8865945, 36.6111184],
                                            [55.0130004, 36.7696923],
                                            [55.4032100, 36.8180802],
                                            [55.5021363, 36.8971945],
                                            [55.5845750, 36.9235477],
                                            [55.6230463, 37.0683275],
                                            [55.7164768, 37.1778256],
                                            [55.7329645, 37.2740528],
                                            [55.8318909, 37.3133831],
                                            [55.9198254, 37.3264886],
                                            [55.9143295, 37.2084567],
                                            [56.0077600, 37.2215805],
                                            [56.0688738, 37.1559387],
                                            [55.9974270, 37.1252863],
                                            [56.0578820, 37.0902398],
                                            [56.0194106, 37.0069394],
                                            [55.9589556, 37.0069394],
                                            [56.0194106, 36.8224776],
                                            [56.1293288, 36.8752265],
                                            [56.2117675, 36.9103722],
                                            [56.2722225, 36.8268747],
                                            [56.3821407, 36.7520892],
                                            [56.3601570, 36.6596062],
                                            [56.4590834, 36.7036596],
                                            [56.5250343, 36.6816361],
                                            [56.6514402, 36.6640127],
                                            [56.6734238, 36.7036596],
                                            [56.7558625, 36.6948509],
                                            [56.7558625, 36.6596062],
                                            [56.7558625, 36.6419778],
                                            [56.8657807, 36.5714238],
                                            [56.8602848, 36.5272948],
                                            [56.7998298, 36.4257025],
                                            [56.7063993, 36.3814904],
                                            [56.7063993, 36.3284027],
                                            [56.7668543, 36.2974182],
                                            [56.7888379, 36.2619922],
                                            [56.7283829, 36.0713023],
                                            [56.7393748, 35.8445345],
                                            [56.9317316, 35.6840715],
                                            [56.9647070, 35.5992523],
                                            [57.0141702, 35.6037187],
                                            [57.0691293, 35.5232852],
                                            [56.9921866, 35.4561956],
                                            [57.0581375, 35.3218484],
                                            [57.0086743, 35.2052333],
                                            [56.9317316, 35.2097216],
                                            [56.8328052, 35.1917670],
                                            [56.7723502, 35.1648275],
                                            [56.7009034, 35.0434895],
                                            [56.6239607, 35.0569804],
                                            [56.5140425, 35.0209997],
                                            [56.4316038, 34.9850031],
                                            [55.9314761, 34.2345124],
                                            [55.6017215, 34.2345124],
                                            [55.5137870, 34.2526761],
                                            [54.2002647, 34.2526761],
                                            [52.8867424, 34.2345124],
                                            [52.6724019, 34.3525067],
                                            [52.4855410, 34.4250361],
                                            [52.3866146, 34.4205049],
                                            [52.1228110, 34.4069097],
                                            [51.8370237, 34.5110832],
                                            [51.8370237, 34.5744295],
                                            [51.9579337, 34.7732038],
                                            [51.9689255, 34.8588905],
                                            [52.0513641, 35.0344943],
                                            [52.0513641, 35.0974398],
                                            [51.9579337, 35.1558457],
                                            [51.8809910, 35.2635619],
                                            [51.9414460, 35.3218484],
                                            [51.9634296, 35.3666557],
                                            [51.9029746, 35.4069609],
                                            [51.9249582, 35.4651441],
                                            [51.9359501, 35.5456359],
                                            [51.9909091, 35.5947857],
                                            [52.0348764, 35.5054001],
                                            [52.2437210, 35.4338199],
                                            [52.3536392, 35.3397743],
                                            [52.4195901, 35.3487357],
                                            [52.5514919, 35.4024836],
                                            [52.6339305, 35.4696180],
                                            [52.6943855, 35.5322262],
                                            [52.7218651, 35.5724486],
                                            [52.7988078, 35.5188143],
                                            [52.8922383, 35.6215819],
                                            [52.9911646, 35.6706850],
                                            [53.0351319, 35.7242176],
                                            [53.1010828, 35.7509704],
                                            [53.1560419, 35.7821707],
                                            [53.1175705, 35.8267213],
                                            [53.0241401, 35.8133587],
                                            [53.0241401, 35.8623437],
                                            [53.0900910, 35.9246445],
                                            [53.2274887, 35.9157474],
                                            [53.2110010, 35.9780062],
                                            [53.3044315, 35.9824514],
                                            [53.3813742, 36.0668621],
                                            [53.5572433, 36.0846213],
                                            [53.6836492, 36.0890605],
                                            [53.7825756, 36.1511824],
                                            [53.8979897, 36.2309813],
                                            [53.9474528, 36.3106988],
                                            [53.8815019, 36.3726450],
                                            [53.9529488, 36.4433803],
                                            [54.0079079, 36.4433803],
                                            [54.0903465, 36.4743068],
                                            [54.1288179, 36.4919735]
                                        ]
                                    ]
                                }
                            }
                        });
                        mymap.addLayer({
                            'id': 'ostan-semnan-polygon',
                            'type': 'fill',
                            'source': 'ostan-semnan-polygon',
                            'layout': {},
                            'paint': {
                                'fill-color': fillColor,
                                'fill-opacity': fillOpacity
                            }
                        });
                        mymap.addSource('ostan-semnan-border', {
                            'type': 'geojson',
                            'data': {
                                'type': 'Feature',
                                'properties': {},
                                'geometry': {
                                    'type': 'LineString',
                                    'coordinates': [
                                        [54.1556386, 36.4787238],
                                        [54.2820445, 36.4875572],
                                        [54.3754749, 36.5096362],
                                        [54.5183686, 36.4875572],
                                        [54.6392786, 36.5934789],
                                        [54.7052295, 36.6287539],
                                        [54.7821722, 36.5934789],
                                        [54.8865945, 36.6111184],
                                        [55.0130004, 36.7696923],
                                        [55.4032100, 36.8180802],
                                        [55.5021363, 36.8971945],
                                        [55.5845750, 36.9235477],
                                        [55.6230463, 37.0683275],
                                        [55.7164768, 37.1778256],
                                        [55.7329645, 37.2740528],
                                        [55.8318909, 37.3133831],
                                        [55.9198254, 37.3264886],
                                        [55.9143295, 37.2084567],
                                        [56.0077600, 37.2215805],
                                        [56.0688738, 37.1559387],
                                        [55.9974270, 37.1252863],
                                        [56.0578820, 37.0902398],
                                        [56.0194106, 37.0069394],
                                        [55.9589556, 37.0069394],
                                        [56.0194106, 36.8224776],
                                        [56.1293288, 36.8752265],
                                        [56.2117675, 36.9103722],
                                        [56.2722225, 36.8268747],
                                        [56.3821407, 36.7520892],
                                        [56.3601570, 36.6596062],
                                        [56.4590834, 36.7036596],
                                        [56.5250343, 36.6816361],
                                        [56.6514402, 36.6640127],
                                        [56.6734238, 36.7036596],
                                        [56.7558625, 36.6948509],
                                        [56.7558625, 36.6596062],
                                        [56.7558625, 36.6419778],
                                        [56.8657807, 36.5714238],
                                        [56.8602848, 36.5272948],
                                        [56.7998298, 36.4257025],
                                        [56.7063993, 36.3814904],
                                        [56.7063993, 36.3284027],
                                        [56.7668543, 36.2974182],
                                        [56.7888379, 36.2619922],
                                        [56.7283829, 36.0713023],
                                        [56.7393748, 35.8445345],
                                        [56.9317316, 35.6840715],
                                        [56.9647070, 35.5992523],
                                        [57.0141702, 35.6037187],
                                        [57.0691293, 35.5232852],
                                        [56.9921866, 35.4561956],
                                        [57.0581375, 35.3218484],
                                        [57.0086743, 35.2052333],
                                        [56.9317316, 35.2097216],
                                        [56.8328052, 35.1917670],
                                        [56.7723502, 35.1648275],
                                        [56.7009034, 35.0434895],
                                        [56.6239607, 35.0569804],
                                        [56.5140425, 35.0209997],
                                        [56.4316038, 34.9850031],
                                        [55.9314761, 34.2345124],
                                        [55.6017215, 34.2345124],
                                        [55.5137870, 34.2526761],
                                        [54.2002647, 34.2526761],
                                        [52.8867424, 34.2345124],
                                        [52.6724019, 34.3525067],
                                        [52.4855410, 34.4250361],
                                        [52.3866146, 34.4205049],
                                        [52.1228110, 34.4069097],
                                        [51.8370237, 34.5110832],
                                        [51.8370237, 34.5744295],
                                        [51.9579337, 34.7732038],
                                        [51.9689255, 34.8588905],
                                        [52.0513641, 35.0344943],
                                        [52.0513641, 35.0974398],
                                        [51.9579337, 35.1558457],
                                        [51.8809910, 35.2635619],
                                        [51.9414460, 35.3218484],
                                        [51.9634296, 35.3666557],
                                        [51.9029746, 35.4069609],
                                        [51.9249582, 35.4651441],
                                        [51.9359501, 35.5456359],
                                        [51.9909091, 35.5947857],
                                        [52.0348764, 35.5054001],
                                        [52.2437210, 35.4338199],
                                        [52.3536392, 35.3397743],
                                        [52.4195901, 35.3487357],
                                        [52.5514919, 35.4024836],
                                        [52.6339305, 35.4696180],
                                        [52.6943855, 35.5322262],
                                        [52.7218651, 35.5724486],
                                        [52.7988078, 35.5188143],
                                        [52.8922383, 35.6215819],
                                        [52.9911646, 35.6706850],
                                        [53.0351319, 35.7242176],
                                        [53.1010828, 35.7509704],
                                        [53.1560419, 35.7821707],
                                        [53.1175705, 35.8267213],
                                        [53.0241401, 35.8133587],
                                        [53.0241401, 35.8623437],
                                        [53.0900910, 35.9246445],
                                        [53.2274887, 35.9157474],
                                        [53.2110010, 35.9780062],
                                        [53.3044315, 35.9824514],
                                        [53.3813742, 36.0668621],
                                        [53.5572433, 36.0846213],
                                        [53.6836492, 36.0890605],
                                        [53.7825756, 36.1511824],
                                        [53.8979897, 36.2309813],
                                        [53.9474528, 36.3106988],
                                        [53.8815019, 36.3726450],
                                        [53.9529488, 36.4433803],
                                        [54.0079079, 36.4433803],
                                        [54.0903465, 36.4743068],
                                        [54.1288179, 36.4919735],
                                    ]
                                }
                            }
                        });
                        mymap.addLayer({
                            'id': 'ostan-semnan-border',
                            'type': 'line',
                            'source': 'ostan-semnan-border',
                            'layout': {
                                'line-join': 'round',
                                'line-cap': 'round'
                            },
                            'paint': {
                                'line-color': lineColor,
                                'line-width': lineWidth
                            }
                        });

                        mymap.addSource('aradan-border', {
                            'type': 'geojson',
                            'data': {
                                'type': 'Feature',
                                'properties': {},
                                'geometry': {
                                    'type': 'LineString',
                                    'coordinates': [
                                        [52.8222656, 34.2717565],
                                        [52.8222656, 34.3207553],
                                        [52.7783203, 34.3706449],
                                        [52.8057861, 34.4205049],
                                        [52.8112793, 34.4839200],
                                        [52.8112793, 34.5337124],
                                        [52.8112793, 34.5970415],
                                        [52.8277588, 34.6603224],
                                        [52.8222656, 34.7280697],
                                        [52.8222656, 34.7777158],
                                        [52.8277588, 34.8318411],
                                        [52.8277588, 34.8859309],
                                        [52.8167725, 34.9489907],
                                        [52.8167725, 35.0209997],
                                        [52.8167725, 35.0659731],
                                        [52.8167725, 35.1378791],
                                        [52.8167725, 35.2231850],
                                        [52.8057861, 35.2635619],
                                        [52.7893066, 35.2904686],
                                        [52.8112793, 35.3173663],
                                        [52.8277588, 35.3397743],
                                        [52.8442383, 35.3621761],
                                        [52.8442383, 35.3980059],
                                        [52.8002930, 35.4114381],
                                        [52.7893066, 35.4427709],
                                        [52.7673340, 35.4830381],
                                        [52.7728271, 35.5098717],
                                        [52.7783203, 35.5356359],
                                        // [52.7783203, 35.5769165]
                                    ]
                                }
                            }
                        });
                        mymap.addLayer({
                            'id': 'aradan-border',
                            'type': 'line',
                            'source': 'aradan-border',
                            'layout': {
                                'line-join': 'round',
                                'line-cap': 'round'
                            },
                            'paint': {
                                'line-color': lineColor,
                                'line-width': lineWidth
                            }
                        });
                        mymap.addSource('sorkhe-border', {
                            'type': 'geojson',
                            'data': {
                                'type': 'Feature',
                                'properties': {},
                                'geometry': {
                                    'type': 'LineString',
                                    'coordinates': [
                                        [53.5034180, 34.2427164],
                                        [53.5034180, 34.2572164],
                                        [53.4869385, 34.3071439],
                                        [53.4924316, 34.3525067],
                                        [53.5034180, 34.3978449],
                                        [53.5089111, 34.4386284],
                                        [53.5089111, 34.4929754],
                                        [53.4979248, 34.5608594],
                                        [53.4979248, 34.6060846],
                                        [53.4979248, 34.6512852],
                                        [53.4979248, 34.6874279],
                                        [53.4869385, 34.7145247],
                                        [53.4869385, 34.7551531],
                                        [53.4869385, 34.7777158],
                                        [53.4594727, 34.8092932],
                                        [53.4759521, 34.8318411],
                                        [53.4814453, 34.8633979],
                                        [53.4759521, 34.8949424],
                                        [53.4704590, 34.9309786],
                                        [53.4649658, 34.9624972],
                                        [53.4649658, 34.9895036],
                                        [53.4649658, 35.0254982],
                                        [53.4704590, 35.0389920],
                                        [53.4814453, 35.0704691],
                                        [53.4429932, 35.0839556],
                                        [53.4649658, 35.1064281],
                                        [53.4649658, 35.1333869],
                                        [53.4649658, 35.1603367],
                                        [53.4375000, 35.1693180],
                                        [53.4704590, 35.1917670],
                                        [53.4759521, 35.2231850],
                                        [53.4704590, 35.2590765],
                                        [53.4484863, 35.2815007],
                                        [53.4484863, 35.3039186],
                                        [53.4484863, 35.3263303]
                                    ]
                                }
                            }
                        });
                        mymap.addLayer({
                            'id': 'sorkhe-border',
                            'type': 'line',
                            'source': 'sorkhe-border',
                            'layout': {
                                'line-join': 'round',
                                'line-cap': 'round'
                            },
                            'paint': {
                                'line-color': lineColor,
                                'line-width': lineWidth
                            }
                        });
                        mymap.addSource('shahroud-border', {
                            'type': 'geojson',
                            'data': {
                                'type': 'Feature',
                                'properties': {},
                                'geometry': {
                                    'type': 'LineString',
                                    'coordinates': [
                                        // [56.7608643, 36.0979380],
                                        [56.7433984, 36.1378747],
                                        [56.6784668, 36.1644879],
                                        [56.6564941, 36.1822250],
                                        [56.6070557, 36.1955252],
                                        [56.5521240, 36.1955252],
                                        [56.5191650, 36.1910920],
                                        [56.4752197, 36.1910920],
                                        [56.4257813, 36.1822250],
                                        [56.4257813, 36.1644879],
                                        [56.4093018, 36.1999581],
                                        [56.3983154, 36.2354122],
                                        [56.4147949, 36.2575628],
                                        [56.4367676, 36.2708502],
                                        [56.4587402, 36.2841353],
                                        [56.3818359, 36.2929908],
                                        [56.2994385, 36.3106988],
                                        [56.2994385, 36.3106988],
                                        [56.2774658, 36.3106988],
                                        [56.2390137, 36.2708502],
                                        [56.2005615, 36.2929908],
                                        [56.1785889, 36.3106988],
                                        [56.1511230, 36.3151251],
                                        [56.1016846, 36.3239771],
                                        [56.0577393, 36.3284027],
                                        [56.0357666, 36.3505270],
                                        [56.0137939, 36.3682219],
                                        [55.9808350, 36.3682219],
                                        [55.9643555, 36.3682219],
                                        [55.9423828, 36.3593750],
                                        [55.9149170, 36.3593750],
                                        [55.8874512, 36.3593750],
                                        [55.8544922, 36.3593750],
                                        [55.8215332, 36.3593750],
                                        [55.8050537, 36.3593750],
                                        [55.7720947, 36.3372532],
                                        [55.7391357, 36.3328281],
                                        [55.7116699, 36.3195513],
                                        [55.6896973, 36.2929908],
                                        [55.6567383, 36.2708502],
                                        [55.6292725, 36.2398428],
                                        [55.5908203, 36.2088231],
                                        [55.5523682, 36.2088231],
                                        [55.5084229, 36.2132552],
                                        [55.4809570, 36.2132552],
                                        [55.4589844, 36.2265501],
                                        [55.4205322, 36.2309813],
                                        [55.3985596, 36.2354122],
                                        [55.3820801, 36.2487033],
                                        [55.3491211, 36.2619922],
                                        [55.3326416, 36.2841353],
                                        [55.3271484, 36.3062722],
                                        [55.3161621, 36.3328281],
                                        [55.2996826, 36.3549511],
                                        [55.3161621, 36.3726450],
                                        [55.3436279, 36.4035996],
                                        [55.3491211, 36.4301223],
                                        [55.3491211, 36.4477991],
                                        [55.3765869, 36.4654719],
                                        [55.4370117, 36.4566360],
                                        [55.4479980, 36.4477991],
                                        [55.4754639, 36.4477991],
                                        [55.5194092, 36.4389612],
                                        [55.5578613, 36.4566360],
                                        [55.5908203, 36.4787238],
                                        [55.6127930, 36.4919735],
                                        [55.6347656, 36.5052209],
                                        [55.6347656, 36.5449494],
                                        [55.6292725, 36.5581878],
                                        [55.6292725, 36.5890684],
                                        [55.6292725, 36.6155276],
                                        [55.6237793, 36.6507925],
                                        [55.6182861, 36.6772306],
                                        [55.5743408, 36.6992554],
                                        [55.5523682, 36.6992554],
                                        [55.5468750, 36.7080635],
                                        [55.5249023, 36.7432861],
                                        [55.5249023, 36.7652919],
                                        [55.5249023, 36.7740925],
                                        [55.5139160, 36.8004882],
                                        [55.5029297, 36.8048866],
                                        [55.5029297, 36.8180802],
                                        [55.5139160, 36.8356682],
                                        [55.5468750, 36.8444607],
                                        [55.5578613, 36.8708322],
                                        [55.5578613, 36.8752265],
                                        [55.5523682, 36.8928014],
                                        [55.5403955, 36.9047643]
                                    ]
                                }
                            }
                        });
                        mymap.addLayer({
                            'id': 'shahroud-border',
                            'type': 'line',
                            'source': 'shahroud-border',
                            'layout': {
                                'line-join': 'round',
                                'line-cap': 'round'
                            },
                            'paint': {
                                'line-color': lineColor,
                                'line-width': lineWidth
                            }
                        });
                        mymap.addSource('garmsar-border', {
                            'type': 'geojson',
                            'data': {
                                'type': 'Feature',
                                'properties': {},
                                'geometry': {
                                    'type': 'LineString',
                                    'coordinates': [
                                        [52.4102783, 34.4178449],
                                        [52.3937988, 34.4522185],
                                        [52.3443604, 34.5337124],
                                        [52.3443604, 34.5925196],
                                        [52.3498535, 34.6377276],
                                        [52.3443604, 34.6783937],
                                        [52.3883057, 34.7235549],
                                        [52.4047852, 34.7732038],
                                        [52.4102783, 34.8138033],
                                        [52.4267578, 34.8588905],
                                        [52.4322510, 34.9084579],
                                        [52.4212646, 34.9624972],
                                        [52.4212646, 34.9985037],
                                        [52.4542236, 35.0209997],
                                        [52.4871826, 35.0569804],
                                        [52.4871826, 35.0929453],
                                        [52.4871826, 35.1244016],
                                        [52.4816895, 35.1558457],
                                        [52.4707031, 35.1782984],
                                        [52.4487305, 35.1917670],
                                        [52.4322510, 35.2052333],
                                        [52.4212646, 35.2186975],
                                        [52.3992920, 35.2501052],
                                        [52.4047852, 35.2815007],
                                        [52.4157715, 35.2994355],
                                        [52.4432373, 35.3128840],
                                        [52.4487305, 35.3352932],
                                        [52.4707031, 35.3442551],
                                        [52.4816895, 35.3621761],
                                        [52.4981689, 35.3845716]
                                        // [52.4926758, 35.4024836]
                                        // [52.4871826, 35.4248679]
                                    ]
                                }
                            }
                        });
                        mymap.addLayer({
                            'id': 'garmsar-border',
                            'type': 'line',
                            'source': 'garmsar-border',
                            'layout': {
                                'line-join': 'round',
                                'line-cap': 'round'
                            },
                            'paint': {
                                'line-color': lineColor,
                                'line-width': lineWidth
                            }
                        });
                        mymap.addSource('mehdishahr-border', {
                            'type': 'geojson',
                            'data': {
                                'type': 'Feature',
                                'properties': {},
                                'geometry': {
                                    'type': 'LineString',
                                    'coordinates': [
                                        [53.0492000, 35.7292980],
                                        [53.0574854, 35.7152980],
                                        [53.0969238, 35.7108378],
                                        [53.1353760, 35.6974558],
                                        [53.1683350, 35.7019167],
                                        [53.2067871, 35.6796096],
                                        [53.2287598, 35.6706850],
                                        [53.2562256, 35.6483692],
                                        [53.2781982, 35.6305120],
                                        [53.3166504, 35.6215819],
                                        [53.3276367, 35.6439052],
                                        [53.3660889, 35.6662223],
                                        [53.3825684, 35.6885332],
                                        [53.3825684, 35.7152980],
                                        [53.3825684, 35.7331362],
                                        [53.4100342, 35.7509704],
                                        [53.4759521, 35.7286770],
                                        [53.4979248, 35.7465123],
                                        [53.5144043, 35.7643435],
                                        [53.5253906, 35.7910828],
                                        [53.5583496, 35.7999939],
                                        [53.5803223, 35.8178132],
                                        [53.5693359, 35.8445345],
                                        [53.5693359, 35.8712469],
                                        [53.5803223, 35.9068493],
                                        [53.6077881, 35.9246445],
                                        [53.6077881, 35.9468829],
                                        [53.6297607, 35.9735608],
                                        [53.6462402, 35.9824514],
                                        [53.6682129, 36.0002296],
                                        [53.6791992, 36.0135606],
                                        [53.7561035, 35.9913410],
                                        [53.7670898, 36.0313318],
                                        [53.7890625, 36.0624217],
                                        [53.7890625, 36.0846213],
                                        [53.7725830, 36.0934994],
                                        [53.7725830, 36.1068146],
                                        [53.7725830, 36.1201276],
                                        [53.8110352, 36.1201276],
                                        [53.8330078, 36.1290017],
                                        [53.8275146, 36.1556178],
                                        [53.8220215, 36.1600530],
                                        [53.8055420, 36.1689225]
                                        // [53.7990762, 36.1693569]
                                        // [53.7670898, 36.2043907]
                                    ]
                                }
                            }
                        });
                        mymap.addLayer({
                            'id': 'mehdishahr-border',
                            'type': 'line',
                            'source': 'mehdishahr-border',
                            'layout': {
                                'line-join': 'round',
                                'line-cap': 'round'
                            },
                            'paint': {
                                'line-color': lineColor,
                                'line-width': lineWidth
                            }
                        });
                        mymap.addSource('semnan-border', {
                            'type': 'geojson',
                            'data': {
                                'type': 'Feature',
                                'properties': {},
                                'geometry': {
                                    'type': 'LineString',
                                    'coordinates': [
                                        [54.1790771, 34.2484290],
                                        [54.1680908, 34.2708360],
                                        [54.1680908, 34.3116812],
                                        [54.1680908, 34.3434361],
                                        [54.1735840, 34.3842460],
                                        [54.1680908, 34.4340979],
                                        [54.1625977, 34.4839200],
                                        [54.1625977, 34.5065566],
                                        [54.1571045, 34.5427624],
                                        [54.1735840, 34.5653830],
                                        [54.1735840, 34.6060846],
                                        [54.1900635, 34.6558039],
                                        [54.1900635, 34.6874279],
                                        [54.1735840, 34.7370985],
                                        [54.1625977, 34.8092932],
                                        [54.1735840, 34.8453669],
                                        [54.1680908, 34.8679050],
                                        [54.1680908, 34.8994478],
                                        [54.1625977, 34.9174669],
                                        [54.1790771, 34.9444881],
                                        [54.1680908, 34.9985037],
                                        [54.1516113, 35.0389920],
                                        [54.1571045, 35.0794603],
                                        [54.1571045, 35.1154153],
                                        [54.1735840, 35.1333869],
                                        [54.1571045, 35.1693180],
                                        [54.1406250, 35.1962560],
                                        [54.1625977, 35.2366462],
                                        [54.1680908, 35.2680469],
                                        [54.1680908, 35.3039186],
                                        [54.1735840, 35.3308119],
                                        [54.1790771, 35.3442551],
                                        [54.1351318, 35.3666557],
                                        [54.0911865, 35.3800930],
                                        [54.0637207, 35.4114381],
                                        [54.0472412, 35.4338199],
                                        [54.0307617, 35.4517209],
                                        [54.0087891, 35.4785650],
                                        [54.0032959, 35.5143431],
                                        [53.9978027, 35.5366964],
                                        [54.0087891, 35.5590434],
                                        [54.0197754, 35.5947857],
                                        [54.0197754, 35.6171165],
                                        [54.0142822, 35.6528328],
                                        [53.9923096, 35.6796096],
                                        [53.9868164, 35.7019167],
                                        [53.9923096, 35.7331362],
                                        [53.9978027, 35.7643435],
                                        [53.9978027, 35.7955385],
                                        [53.9978027, 35.8267213],
                                        [53.9538574, 35.8400816],
                                        [53.9208984, 35.8578918],
                                        [53.8769531, 35.8801490],
                                        [53.8549805, 35.8801490],
                                        [53.8385010, 35.9023999],
                                        [53.7890625, 35.9157474],
                                        [53.7725830, 35.9201961],
                                        [53.7451172, 35.9335406],
                                        [53.7231445, 35.9468829],
                                        [53.7176514, 35.9602230],
                                        [53.7066650, 35.9735608],
                                        [53.7010000, 35.9999999]
                                    ]
                                }
                            }
                        });
                        mymap.addLayer({
                            'id': 'semnan-border',
                            'type': 'line',
                            'source': 'semnan-border',
                            'layout': {
                                'line-join': 'round',
                                'line-cap': 'round'
                            },
                            'paint': {
                                'line-color': lineColor,
                                'line-width': lineWidth
                            }
                        });
                    });
                    var geojson = {
                        type: 'FeatureCollection',
                        features: [
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [52.43179920638, 35.304329583645]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'Washington, D.C.'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [55.724852425923, 36.41614589227]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [52.377212862161, 35.260126343602]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [54.215829045955, 36.232503404624]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [54.099004459429, 36.268910176222]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [54.650393699234, 36.475994145582]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [54.982497611023, 36.469436870006]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [55.799249078673, 36.083552852237]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [53.419897976221, 35.539823938367]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [53.39550982055, 35.817127622356]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [54.639161916469, 36.481666828162]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [53.316407893155, 35.773843664332]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [52.430005031003, 35.302998408637]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [55.002016442078, 35.426233495744]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [54.311321944611, 36.168428285371]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            },
                            {
                                type: 'Feature',
                                geometry: {
                                    type: 'Point',
                                    coordinates: [54.219873006146, 36.415934010431]
                                },
                                properties: {
                                    title: 'Mapbox',
                                    description: 'San Francisco, California'
                                }
                            }
                        ]
                    };


                    mymap.on('click', 'ostan-semnan-polygon', function(e) {
                        if(h>850){
                            mymap.setZoom(7.3);
                            mymap.flyTo({
                                center: [
                                    54.6240234,
                                    35.79067
                                ],
                                essential: true // this animation is considered essential with respect to prefers-reduced-motion
                            });
                        }
                        else{
                            mymap.setZoom(6.7);
                            mymap.flyTo({
                                center: [
                                    54.6240234,
                                    35.79067
                                ],
                                essential: true // this animation is considered essential with respect to prefers-reduced-motion
                            });
                        }

                        mymap.setPaintProperty(
                            'ostan-semnan-polygon',
                            'fill-opacity',
                            0
                        );
                        mymap.setPaintProperty(
                            'ostan-semnan-border',
                            'line-width',
                            lineWidth + 2
                        );
                        geojson.features.forEach(function (marker) {

                            // create a HTML element for each feature
                            var el = document.createElement('div');
                            el.className = 'marker';
                            el.addEventListener('click', function () {
                                window.alert(marker.properties.message);
                            // make a marker for each feature and add to the map
                            new mapboxgl.Marker(el)
                                .setLngLat(marker.geometry.coordinates)
                                .setPopup(new mapboxgl.Popup({offset: 25}) // add popups
                                    .setHTML('<h3>' + marker.properties.title + '</h3><p>' + marker.properties.description + '</p>'))
                                .addTo(mymap);
                        });

                    });
                    // Change the cursor to a pointer when the it enters a feature in the 'symbols' layer.
                    mymap.on('mouseenter', 'ostan-semnan-polygon', function () {
                        mymap.getCanvas().style.cursor = 'pointer';
                    });

                    // Change it back to a pointer when it leaves.
                    mymap.on('mouseleave', 'ostan-semnan-polygon', function () {
                        mymap.getCanvas().style.cursor = '';
                    });


                    // function onClick(e) {
                    //
                    //     mymap.setZoom(8);
                    //     //mymap.removeLayer(marker1);
                    // }
                    // let mymap = L.map('mapid').setView([100, -160], 0);

                    // L.tileLayer('/assets/img/map/6.jpeg', {
                    //     minZoom: 0,
                    //     maxZoom: 18,
                    //     maxNativeZoom: 0,
                    //     // tileSize: L.point(1060, 596)
                    //     tileSize: L.point(w, h)
                    //     // zoomOffset: -1
                    //
                    // }).addTo(mymap);



                    // let mymap = L.map('mapid').setView({lon: 54.5551 , lat:35.3942}, 10);
                    // L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/1/1/0?access_token={accessToken}', {
                    //     attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
                    //     minZoom: 0,
                    //     maxZoom: 18,
                    //     id: 'mapbox/streets-v11',
                    //     tileSize: L.point(w, h),
                    //     zoomOffset: -1,
                    //     accessToken: 'pk.eyJ1IjoicmV6YXNoODEiLCJhIjoiY2thOWZ1enBhMG1naTM2cXdnaHplYjVlaiJ9.qyXFnvzifd20ocz6eGP8Cg'
                    // }).addTo(mymap);

                    // let mymap = L.map('mapid').setView({lon: 54.5551 , lat:35.3942}, 5);
                    // L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    //     maxZoom: 19,
                    //     attribution: '&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a>'
                    // }).addTo(map);
                    // L.control.scale().addTo(mymap);

                    //let marker1 = L.marker({lon: 54.5551, lat: 35.3942}).bindPopup('Ø§Ø³ØªØ§Ù Ø³ÙÙØ§Ù').on('click', onClick);
                    //mymap.addLayer(marker1);

//div.content
//    div.row
//        div.col-md-12
//            div.classcard.card-plain
//                div.card-body
//                    //- div(id='map' class='map')
//                    //- div.fluid-wrapper
//                    //- div
//                    //-     iframe.mymap(src='https://goo.gl/maps/6EBfAkxfz33LC7xy8' width='1000' height='700' frameborder='0' style='border:0;' allowfullscreen='')
//                    div.map(id='map')
//                    script.
//                        var map = new ol.Map({
//                          target: 'map',
//                          layers: [
//                            new ol.layer.Tile({
//                              source: new ol.source.OSM()
//                            })
//                          ],
//                          view: new ol.View({
//                            center: ol.proj.fromLonLat([54.7668, 35.6573]),
//                            zoom: 7
//                          })
//                        });



//- div
//-     p
//-         iframe(width='940' height='774' frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='http://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=fa&amp;geocode=&amp;q=%D8%B3%D9%85%D9%86%D8%A7%D9%86&amp;aq=&amp;sll=31.89661,54.36068&amp;sspn=0.323543,0.672226&amp;ie=UTF8&amp;hq=&amp;hnear=%D8%B3%D9%85%D9%86%D8%A7%D9%86%D8%8C+%D8%A7%DB%8C%D8%B1%D8%A7%D9%86&amp;t=m&amp;z=12&amp;ll=35.572269,53.396049&amp;output=embed')


//- https://goo.gl/maps/6EBfAkxfz33LC7xy8
//- iframe(src='https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d1656565.6685356202!2d54.55339287580144!3d35.812701567162804!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sfa!2suk!4v1583588564460!5m2!1sfa!2suk' width='600' height='450' frameborder='0' style='border:0;' allowfullscreen='')

//- <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1613870.8382354751!2d54.33725882829683!3d35.591848261054686!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3f9d058a8161bd1b%3A0xddcc3cb317cd26cd!2z2KfYs9iq2KfZhiDYs9mF2YbYp9mG2Iwg2KfbjNix2KfZhg!5e0!3m2!1sfa!2suk!4v1583594011758!5m2!1sfa!2suk" width="1000" height="600" frameborder="0" style="border:0;" allowfullscreen=""></iframe>